<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pet Sitter Sabrina ‚Äî Bem-Estar v6.1</title>
<style>
:root{
  --bg:#ffe6f0; --card:#f5f5dc; --accent:#ff6fa3; --green:#32cd32; --text:#000;
}
body{font-family:'Poppins',sans-serif;background:var(--bg);color:var(--text);margin:0;padding:18px;}
.h1{font-size:24px;font-weight:700;color:var(--accent);margin:0 0 10px;}
.btn{padding:12px 16px;border-radius:12px;border:none;background:var(--accent);color:#fff;font-weight:600;cursor:pointer;transition:0.3s;}
.btn:hover{opacity:0.9;}
.card{background:var(--card);padding:18px;border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,0.1);margin-top:14px;}
.input,select,textarea{width:100%;padding:12px;border-radius:10px;border:1px solid #ddd;margin-bottom:10px;}
.confetti{position:fixed;pointer-events:none;left:0;top:0;width:100%;height:100%;z-index:9999;}
.small{font-size:13px;color:#333;}
.badge{display:inline-block;padding:6px 12px;border-radius:999px;background:white;border:1px solid #eee;font-weight:600;}
.hidden{display:none;}
</style>
</head>
<body>

<div style="display:flex;justify-content:space-between;align-items:center">
  <div><div class="h1">Pet Sitter Sabrina ‚Äî Bem-Estar (v6.1)</div><div class="small">Gamifica√ß√£o, pets e motiva√ß√£o personalizada</div></div>
  <div id="scoreBadge" class="badge">Pontos: 0</div>
</div>

<div id="loginCard" class="card">
  <h3>Cadastro inicial (obrigat√≥rio)</h3>
  <input id="userName" class="input" placeholder="Seu nome">
  <div id="petContainer">
    <div style="display:flex;gap:8px">
      <input class="input petName" placeholder="Nome do pet" style="flex:1">
      <select class="petType">
        <option value="c√£o">C√£o</option>
        <option value="gato">Gato</option>
        <option value="outro">Outro</option>
      </select>
    </div>
  </div>
  <div style="display:flex;gap:8px;margin-top:6px">
    <button class="btn" onclick="addPetField()">Adicionar pet</button>
    <button class="btn" style="background:#0b8f5b" onclick="saveUser()">Salvar e entrar</button>
  </div>
  <div class="small" style="margin-top:8px">Seus dados ficam no navegador (localStorage).</div>
</div>

<div id="mainContent" class="hidden">
  <div class="card">
    <h3>Check-in de humor</h3>
    <select id="mood" class="input">
      <option value="üòÉ Feliz">üòÉ Feliz</option>
      <option value="üôÇ Neutro">üôÇ Neutro</option>
      <option value="üòû Triste">üòû Triste</option>
      <option value="üò∞ Ansioso">üò∞ Ansioso</option>
      <option value="üò´ Estressado">üò´ Estressado</option>
      <option value="üò¥ Cansado">üò¥ Cansado</option>
    </select>
    <div style="display:flex;gap:8px"><button class="btn" onclick="saveMood()">Salvar</button></div>
    <p id="moodStatus" class="small"></p>
    <p id="petActivity" class="small"></p>
  </div>
</div>

<div id="achievementsCard" class="card hidden">
  <h3>Suas Conquistas üèÜ</h3>
  <div id="achievementsContainer" style="display:flex;flex-wrap:wrap;gap:10px;margin-top:10px;"></div>
</div>

<div id="confetti" class="confetti"></div>

<script>
// JavaScript completo com medalhas, check-in, atividades, hist√≥rico
const loginCard = document.getElementById('loginCard');
const mainContent = document.getElementById('mainContent');
const userNameInput = document.getElementById('userName');
const petContainer = document.getElementById('petContainer');
const scoreBadge = document.getElementById('scoreBadge');
const moodStatus = document.getElementById('moodStatus');
const petActivity = document.getElementById('petActivity');
const achievementsCard = document.getElementById('achievementsCard');
const achievementsContainer = document.getElementById('achievementsContainer');
const mood = document.getElementById('mood');

let user=null; let score=0; let petData=[]; let achievements={}; let activityLog=[];

const allAchievements={
  'primeiro-checkin':{name:'Primeiro Check-in',desc:'Registre seu primeiro humor!',icon:'‚ú®'},
  'humor-feliz':{name:'Feliz√£o!',desc:'Fa√ßa um check-in de humor Feliz.',icon:'ü•≥'},
  'pet-lover':{name:'Pet Lover',desc:'Complete uma atividade com seu pet.',icon:'‚ù§Ô∏è'}
};

function loadData(){
  const savedUser=localStorage.getItem('userName');
  const savedPets=localStorage.getItem('petData');
  const savedScore=localStorage.getItem('score');
  const savedAchievements=localStorage.getItem('achievements');
  const savedActivityLog=localStorage.getItem('activityLog');
  if(savedUser){
    user=savedUser;
    petData=JSON.parse(savedPets);
    score=parseInt(savedScore)||0;
    achievements=JSON.parse(savedAchievements)||{};
    activityLog=JSON.parse(savedActivityLog)||[];
    loginCard.classList.add('hidden');
    mainContent.classList.remove('hidden');
    achievementsCard.classList.remove('hidden');
    scoreBadge.textContent=`Pontos: ${score}`;
    updateAchievementsDisplay();
    generatePetActivity();
  }
}

function updateAchievementsDisplay(){
  achievementsContainer.innerHTML='';
  for(const key in allAchievements){
    const achievement=allAchievements[key];
    const isUnlocked=achievements[key];
    const badge=document.createElement('div');
    badge.className='badge';
    badge.style.opacity=isUnlocked?'1':'0.4';
    badge.style.marginRight='5px';
    badge.textContent=isUnlocked?`${achievement.icon} ${achievement.name}`:`${achievement.icon} ?`;
    badge.title=isUnlocked?achievement.desc:'Conquista Bloqueada';
    achievementsContainer.appendChild(badge);
  }
}

function unlockAchievement(key){
  if(!achievements[key]){
    achievements[key]=true;
    localStorage.setItem('achievements',JSON.stringify(achievements));
    alert(`Parab√©ns! Voc√™ desbloqueou a conquista: ${allAchievements[key].name}!`);
    updateAchievementsDisplay();
  }
}

function addPetField(){
  const newPetDiv=document.createElement('div');
  newPetDiv.style="display:flex;gap:8px;margin-top:6px;";
  newPetDiv.innerHTML=`<input class="input petName" placeholder="Nome do pet" style="flex:1"><select class="petType"><option value="c√£o">C√£o</option><option value="gato">Gato</option><option value="outro">Outro</option></select>`;
  petContainer.appendChild(newPetDiv);
}

function saveUser(){
  const userName=userNameInput.value.trim();
  const petNames=document.querySelectorAll('.petName');
  const petTypes=document.querySelectorAll('.petType');
  if(!userName||!petNames[0].value.trim()){alert("Preencha nome e nome do pet."); return;}
  user=userName;
  petData=[];
  for(let i=0;i<petNames.length;i++){petData.push({name:petNames[i].value.trim(),type:petTypes[i].value});}
  localStorage.setItem('userName',user);
  localStorage.setItem('petData',JSON.stringify(petData));
  loginCard.classList.add('hidden');
  mainContent.classList.remove('hidden');
  achievementsCard.classList.remove('hidden');
  alert(`Bem-vindo(a), ${user}! Seu cadastro foi salvo.`);
  generatePetActivity();
}

function saveMood(){
  const selectedMood=mood.value;
  const moodPoints={"üòÉ Feliz":20,"üôÇ Neutro":10,"üòû Triste":5,"üò∞ Ansioso":5,"üò´ Estressado":5,"üò¥ Cansado":5};
  score+=moodPoints[selectedMood]||0;
  localStorage.setItem('score',score);
  scoreBadge.textContent=`Pontos: ${score}`;
  moodStatus.textContent=`Humor salvo: ${selectedMood}. Voc√™ ganhou ${moodPoints[selectedMood]||0} pontos!`;
  if(selectedMood==="üòÉ Feliz"){triggerConfetti(); unlockAchievement('humor-feliz');}
  unlockAchievement('primeiro-checkin');
  updateActivityLog('check-in',selectedMood);
}

function generatePetActivity(){
  if(petData.length>0){
    const randomPet=petData[Math.floor(Math.random()*petData.length)];
    const activities={c√£o:["ir passear üêæ","brincar de bolinha üéæ","dar um petisco ü¶¥","fazer carinho na barriga ‚ù§Ô∏è"],gato:["usar a varinha üé£","dar uma nova caixa de papel√£o üì¶","escovar o pelo üêà","dar um sach√™ üêü"],outro:["verificar se a √°gua est√° fresca","brincar com o brinquedo favorito","dar a comida preferida"]};
    const petActivities=activities[randomPet.type]||activities.outro;
    const randomActivity=petActivities[Math.floor(Math.random()*petActivities.length)];
    petActivity.innerHTML=`Lembre-se de fazer algo por seu pet hoje! Seu pet <b>${randomPet.name}</b> gostaria de <b>${randomActivity}</b>.<div style="display:flex;gap:8px;margin-top:8px"><button class="btn" style="background:var(--green);font-size:12px;" onclick="logActivity('${randomActivity}')">Marcar como feito (+25 pts)</button></div>`;
  }
}

function logActivity(activity){
  score+=25;
  localStorage.setItem('score',score);
  scoreBadge.textContent=`Pontos: ${score}`;
  petActivity.textContent=`√ìtimo! Voc√™ ganhou 25 pontos por fazer ${activity}.`;
  unlockAchievement('pet-lover');
  updateActivityLog('pet-activity',activity);
}

function updateActivityLog(type,details){
  activityLog.push({type,details,date:new Date().toISOString()});
  localStorage.setItem('activityLog',JSON.stringify(activityLog));
}

function triggerConfetti(){
  const confetti=document.getElementById('confetti');
  confetti.innerHTML='';
  for(let i=0;i<50;i++){
    const piece=document.createElement('div');
    piece.style=`position:absolute;width:10px;height:10px;background:hsl(${Math.random()*360},100%,50%);left:${Math.random()*100}%;top:${Math.random()*-20}%;transform:rotate(${Math.random()*360}deg);animation:fall-${i} ${3+Math.random()*2}s ease-in-out forwards;`;
    confetti.appendChild(piece);
    const styleSheet=document.createElement("style");
    styleSheet.innerHTML=`@keyframes fall-${i}{0%{transform:translate(0,0) rotate(0deg);opacity:1;}100%{transform:translate(${Math.random()*200-100}px,100vh) rotate(${720+Math.random()*360}deg);opacity:0;}}`;
    document.head.appendChild(styleSheet);
  }
}

window.onload=loadData;
</script>
</body>
</html>
